/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
 -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
module.exports = function(grunt) {
    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
     配置任务目标
     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
    grunt.initConfig({
        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
        读取package.json信息
        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
        //pkg : grunt.file.readJSON("package.json") ,
        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
        合并js和css
        @合并 jquery-1.11.3.js, jquery.scrollup.js ,jquery.lazyload.js， jquery.cookie.js以及当前应用的基类为app.js
        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
        concat : {
            options : {

            } ,
            dist : {
                src : ["build/js/lib/jQuery/jquery-1.11.3.js", "build/bootstrap/3.3.4/js/bootstrap.js", "build/jssrc/jquery.cookie.js", "apps/www.chuanmei.com/jssrc/controller.js"] ,
                dest : "apps/www.chuanmei.com/jssrc/app.js"
            } ,
        } ,
        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
        压缩js
        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
        uglify : {
            build : {
                src : "apps/www.chuanmei.com/jssrc/app.js" ,
                dest : "apps/www.chuanmei.com/js/app.min.js"
            } ,
        }

    });
    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
     加载grunt插件
     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
    grunt.loadNpmTasks('grunt-contrib-concat') ;
    grunt.loadNpmTasks('grunt-contrib-uglify') ;
    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
     注册并执行任务
     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
    grunt.registerTask("default", ["concat:dist", "uglify:build"]) ;
};