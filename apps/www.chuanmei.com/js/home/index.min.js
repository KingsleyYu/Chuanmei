function IndexController(){Controller.call(this),this.initDropdown(),this.initDatePicker(),this.showCustomCondsPopup(),this.showMoreConds(),this.showProductDetail(),this.initDataPanel(),this.optionsChange(),this.switchCategory(),this.showMenu()}IndexController.prototype.initDropdown=function(){$(".dropdown-menu li a").on("click",function(){var e=$(this);e.parent().parent().siblings(".btn").find("span:first").html(e.html()),"gift"===e.data("type")&&("1"==e.data("value")?$(".filter-panel").find(".conds-item-bbmc input").show().css("width","119px"):($(".filter-panel").find(".conds-item-bbmc input:first").show().css("width","255px"),$(".filter-panel").find(".conds-item-bbmc input:last").hide()))})},IndexController.prototype.initDatePicker=function(){$("#starttime").datetimepicker({format:"yyyy-mm-dd hh:ii",weekStart:1,todayBtn:1,autoclose:1,todayHighlight:1,startView:2,forceParse:0,showMeridian:1,language:"zh-CN"}).on("changeDate",function(e){e.date.valueOf()}),$("#endtime").datetimepicker({format:"yyyy-mm-dd hh:ii",weekStart:1,todayBtn:1,autoclose:1,todayHighlight:1,startView:2,forceParse:0,showMeridian:1,language:"zh-CN"}).on("changeDate",function(e){var t=e.date.valueOf();alert(t)})},IndexController.prototype.showCustomCondsPopup=function(){$("#btnCustomConds").on("click",function(){$(".customConds-modal").modal("show")})},IndexController.prototype.showMoreConds=function(){$("#btnShowMoreConds").on("click",function(){var e=$(this);e.hasClass("xia")?(e.find("i").removeClass("icon-xiangxia2").addClass("icon-xiangshang3"),e.removeClass("xia").addClass("shang"),$(".filter-panel>div").show(100)):(e.find("i").removeClass("icon-xiangshang3").addClass("icon-xiangxia2"),e.removeClass("shang").addClass("xia"),$(".filter-panel>div").each(function(e,t){$(t).hasClass("conds")||$(t).hide(100)}))})},IndexController.prototype.showProductDetail=function(){$(".data-panel .btnShowDetail").on("click",function(){var e=$(this),t=e.data("index"),n=$($(".data-panel .row").get(t-1));return"收起"===e.html()?(n.find("div.detail").hide(100),n.find("div.image-list").show(100),e.html("详情")):(n.find("div.detail").show(100),n.find("div.image-list").hide(100),e.html("收起")),!1})},IndexController.prototype.initDataPanel=function(){$(".data-panel .row").on("click",function(){var e=$(this),t=e.find("table").find("input:checkbox");t.prop("checked")?(t.removeAttr("checked"),e.removeClass("selected")):(t.prop("checked",!0),e.addClass("selected")),$("#lblSelectedCount").html($(".data-panel .row.selected").size()),$(".data-panel .row").size()==$(".data-panel .row.selected").size()?($("#chbAll").prop("checked",!0),$("#fixbar-chbAll").prop("checked",!0)):($("#chbAll").removeAttr("checked"),$("#fixbar-chbAll").removeAttr("checked"))}),$("#chbAll,#fixbar-chbAll").on("click",function(){var e=$(this);e.prop("checked")?($(".data-panel .row").find("table").find("input:checkbox").prop("checked",!0),$(".data-panel .row").addClass("selected"),$("#chbAll").prop("checked",!0),$("#fixbar-chbAll").prop("checked",!0)):($(".data-panel .row").find("table").find("input:checkbox").removeAttr("checked"),$(".data-panel .row").removeClass("selected"),$("#chbAll").removeAttr("checked"),$("#fixbar-chbAll").removeAttr("checked")),$("#lblSelectedCount").html($(".data-panel .row.selected").size())}),$(".data-panel table").find(".date>.btn-group.dropdown-toggle").on("show.bs.dropdown",function(){}),$(".image-list dt img").on("click",function(){var e=$(this),t=e.parent().parent().parent();return t.hasClass("selected")?t.removeClass("selected"):t.addClass("selected"),!1}),$(".image-list .overlay").on("click",function(){var e=$(this),t=e.parent().parent();return t.hasClass("selected")&&t.removeClass("selected"),!1})},IndexController.prototype.switchCategory=function(){$(".category li").on("click",function(){var e=$(this);$(".category li").removeClass("on"),e.addClass("on")})},IndexController.prototype.optionsChange=function(){$(".filter-item .btn-group").find("a").on("click",function(){var e=$(this);e.hasClass("on")&&(e.removeClass("on"),e.removeClass("active")),e.hasClass("filter-item-all")&&(e.parent().parent().find(".btn-group a").removeClass("on"),e.parent().parent().find(".btn-group").removeClass("active"),e.addClass("btn-primary")),e.parent().removeClass("active").find("a").removeClass("on"),e.addClass("on"),e.parent().addClass("active"),e.parent().parent().find(".btn-group a").length===e.parent().parent().find(".btn-group a.on").length-1?(e.parent().parent().find(".btn-group a").removeClass("on"),e.parent().parent().find(".btn-group").removeClass("active"),e.parent().parent().find(".btn-group a.filter-item-all").addClass("btn-primary")):e.parent().parent().find(".btn-group a.filter-item-all").removeClass("btn-primary")}),$(".btn-group,.input-group-btn").on("click",function(){var e=$(this);e.hasClass("open")?e.removeClass("open"):e.addClass("open")})},IndexController.prototype.showMenu=function(){$(".header .nav-bar li").hover(function(){$(this).find(".btn-group").addClass("open")},function(){$(this).find(".btn-group").removeClass("open")})},$(document).ready(function(){new IndexController});